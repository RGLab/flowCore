<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Class hyperlogtGml2 — hyperlogtGml2-class • flowCore</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Class hyperlogtGml2 — hyperlogtGml2-class" />
<meta property="og:description" content="Hyperlog transformation parameterized according to Gating-ML 2.0." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">flowCore</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.99.20</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/index.html">Articles</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Class hyperlogtGml2</h1>
    
    <div class="hidden name"><code>hyperlogtGml2-class.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Hyperlog transformation parameterized according to Gating-ML 2.0.</p>
    </div>



    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>hyperlogtGml2 is defined by the following function: 
$$bound(hyperlog, boundMin, boundMax) = max(min(hyperlog,boundMax),boundMin))$$ 
where $$hyperlog(x, T, W, M, A) = root(EH(y, T, W, M, A) - x)$$ and 
\(EH\) is defined as: 
$$EH(y, T, W, M, A) = ae^{by} + cy - f$$ where</p><ul>
<li><p>x is the value that is being
transformed (an FCS dimension value). Typically, x is less than or equal to
T, although the transformation function is also defined for x greater than
T.</p></li>
<li><p>y is the result of the transformation.</p></li>
<li><p>T is greater than zero and represents the top of scale value.</p></li>
<li><p>M is greater than zero and represents the number of decades that the 
true logarithmic scale approached at the high end of the Hyperlog scale would 
cover in the plot range.</p></li>
<li><p>W is positive and not greater than half of M and represents the number of 
such decades in the approximately linear region.</p></li>
<li><p>A is the number of additional decades of negative data values to be included. A
shall be greater than or equal to \(-W\), and less than or equal to \(M
- 2W\)</p></li>
<li><p>root is a standard root finding algorithm (e.g., Newton's
method) that finds y such as \(B(y, T, W, M, A) = x\).</p></li>
</ul><p>and \(a\),
\(b\), \(c\) and \(f\) are defined by means of \(T\), \(W\),
\(M\), \(A\), \(w\), \(x0\), \(x1\), \(x2\), \(e0\), \(ca\)
and \(fa\) as: 
$$w = W/(M+A)$$ 
$$x2 = A/(M+A)$$ 
$$x1 = x2 + w$$
$$x0 = x2 + 2*w$$ 
$$b = (M + A)*ln(10)$$ 
$$e0 = e^{b*x0}$$ 
$$ca= e0/w$$ 
$$fa = e^{b*x1} + ca*x1$$ 
$$a = T / (e^b + ca - fa)$$ 
$$c = ca * a$$ 
$$f = fa * a$$</p>
<p>In addition, if a boundary is defined by the boundMin and/or boundMax
parameters, then the result of this transformation is restricted to the
[boundMin,boundMax] interval. Specifically, should the result of the
hyperlog function be less than boundMin, then let the result of this
transformation be boundMin. Analogically, should the result of the hyperlog
function be more than boundMax, then let the result of this transformation
be boundMax. The boundMin parameter shall not be greater than the boundMax
parameter.</p>
    <h2 class="hasAnchor" id="slots"><a class="anchor" href="#slots"></a>Slots</h2>

    

<dl'>
<dt><code>.Data</code></dt><dd><p>Object of class <code>function</code>.</p></dd>

<dt><code>T</code></dt><dd><p>Object of class <code>numeric</code> -- positive constant (top of scale value).</p></dd>

<dt><code>M</code></dt><dd><p>Object of class <code>numeric</code> -- positive constant (desired number of decades).</p></dd>

<dt><code>W</code></dt><dd><p>Object of class <code>numeric</code> -- positive constant that is not greater than half of M
(the number of such decades in the approximately linear region)</p></dd>

<dt><code>A</code></dt><dd><p>Object of class <code>numeric</code> -- a constant that is greater than or equal to -W, and also
less than or equal to M-2W. (A represents the number of additional decades of negative data values to 
be included.)</p></dd>

<dt><code>parameters</code></dt><dd><p>Object of class <code>"transformation"</code> -- flow parameter to be transformed.</p></dd>

<dt><code>transformationId</code></dt><dd><p>Object of class <code>"character"</code> -- unique ID to reference the transformation.</p></dd>

<dt><code>boundMin</code></dt><dd><p>Object of class <code>numeric</code> -- lower bound of the transformation, default -Inf.</p></dd>

<dt><code>boundMax</code></dt><dd><p>Object of class <code>numeric</code> -- upper bound of the transformation, default Inf.</p></dd>

</dl>
    <h2 class="hasAnchor" id="note"><a class="anchor" href="#note"></a>Note</h2>

    <p>That <code>hyperlogtGml2</code> transformation brings "reasonable" data
values to the scale of \([0,1]\).  The transformation is somewhat similar
to <code><a href='logicletGml2-class.html'>logicletGml2</a></code>. (See Gating-ML 2.0 for detailed comparison)</p>
<p>The hyperlog transformation object can be evaluated using the eval method by
passing the data frame as an argument. The transformed parameters are
returned as a matrix with a single column. (See example below)</p>
    <h2 class="hasAnchor" id="objects-from-the-class"><a class="anchor" href="#objects-from-the-class"></a>Objects from the Class</h2>

    <p>Objects can be created by calls to the
constructor</p>
<p><code>hyperlogtGml2(parameter, T, M, W, A, transformationId, boundMin,
boundMax)</code></p>
    <h2 class="hasAnchor" id="extends"><a class="anchor" href="#extends"></a>Extends</h2>

    

<p>Class <code><a href='singleParameterTransform-class.html'>singleParameterTransform</a></code>, directly.</p>
<p>Class <code><a href='transform-class.html'>transform</a></code>, by class singleParameterTransform, distance 2.</p>
<p>Class <code><a href='transformation-class.html'>transformation</a></code>, by class singleParameterTransform, distance 3.</p>
<p>Class <code><a href='characterOrTransformation-class.html'>characterOrTransformation</a></code>, by class singleParameterTransform, distance 4.</p>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Gating-ML 2.0: International Society for Advancement of
Cytometry (ISAC) standard for representing gating descriptions in flow
cytometry. <a href='http://flowcyt.sourceforge.net/gating/20141009.pdf'>http://flowcyt.sourceforge.net/gating/20141009.pdf</a></p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='hyperlog-class.html'>hyperlog</a></code>, <code><a href='logicleTransform.html'>logicleTransform</a></code>,
<code><a href='transform-class.html'>transform-class</a></code>, <code><a href='transform.html'>transform</a></code></p>
<p>Other mathematical transform classes: 
<code><a href='EHtrans-class.html'>EHtrans-class</a></code>,
<code><a href='asinht-class.html'>asinht-class</a></code>,
<code><a href='asinhtGml2-class.html'>asinhtGml2-class</a></code>,
<code><a href='dg1polynomial-class.html'>dg1polynomial-class</a></code>,
<code><a href='exponential-class.html'>exponential-class</a></code>,
<code><a href='hyperlog-class.html'>hyperlog-class</a></code>,
<code><a href='invsplitscale-class.html'>invsplitscale-class</a></code>,
<code><a href='lintGml2-class.html'>lintGml2-class</a></code>,
<code><a href='logarithm-class.html'>logarithm-class</a></code>,
<code><a href='logicletGml2-class.html'>logicletGml2-class</a></code>,
<code><a href='logtGml2-class.html'>logtGml2-class</a></code>,
<code><a href='quadratic-class.html'>quadratic-class</a></code>,
<code><a href='ratio-class.html'>ratio-class</a></code>,
<code><a href='ratiotGml2-class.html'>ratiotGml2-class</a></code>,
<code><a href='sinht-class.html'>sinht-class</a></code>,
<code><a href='splitscale-class.html'>splitscale-class</a></code>,
<code><a href='squareroot-class.html'>squareroot-class</a></code>,
<code><a href='unitytransform-class.html'>unitytransform-class</a></code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='no'>myDataIn</span>  <span class='kw'>&lt;-</span> <span class='fu'><a href='read.FCS.html'>read.FCS</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/system.file.html'>system.file</a></span>(<span class='st'>"extdata"</span>, <span class='st'>"0877408774.B08"</span>,
    <span class='kw'>package</span><span class='kw'>=</span><span class='st'>"flowCore"</span>))
<span class='no'>myHyperLg</span> <span class='kw'>&lt;-</span> <span class='fu'>hyperlogtGml2</span>(<span class='kw'>parameters</span> <span class='kw'>=</span> <span class='st'>"FSC-H"</span>, <span class='kw'>T</span> <span class='kw'>=</span> <span class='fl'>1023</span>, <span class='kw'>M</span> <span class='kw'>=</span> <span class='fl'>4.5</span>,
    <span class='kw'>W</span> <span class='kw'>=</span> <span class='fl'>0.5</span>, <span class='kw'>A</span> <span class='kw'>=</span> <span class='fl'>0</span>, <span class='kw'>transformationId</span><span class='kw'>=</span><span class='st'>"myHyperLg"</span>)
<span class='no'>transOut</span>  <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/eval.html'>eval</a></span>(<span class='no'>myHyperLg</span>)(<span class='fu'><a href='flowFrame-class.html'>exprs</a></span>(<span class='no'>myDataIn</span>))</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by B Ellis, Perry Haaland, Florian Hahne, Nathan Le Meur, Nishant Gopalakrishnan, Josef Spidlen, Mike Jiang, Greg Finak.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


