<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Class "ellipsoidGate" — ellipsoidGate-class • flowCore</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Class "ellipsoidGate" — ellipsoidGate-class" />
<meta property="og:description" content="Class and constructor for n-dimensional ellipsoidal filter
objects." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">flowCore</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.99.20</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/index.html">Articles</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Class "ellipsoidGate"</h1>
    
    <div class="hidden name"><code>ellipsoidGate-class.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Class and constructor for n-dimensional ellipsoidal <code><a href='filter-methods.html'>filter</a></code>
objects.</p>
    </div>

    <pre class="usage"><span class='fu'>ellipsoidGate</span>(<span class='no'>...</span>, <span class='no'>.gate</span>, <span class='no'>mean</span>, <span class='kw'>distance</span><span class='kw'>=</span><span class='fl'>1</span>, <span class='kw'>filterId</span><span class='kw'>=</span><span class='st'>"defaultEllipsoidGate"</span>)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>filterId</th>
      <td><p>An optional parameter that sets the <code>filterId</code> of this
gate.</p></td>
    </tr>
    <tr>
      <th>.gate</th>
      <td><p>A definition of the gate via a covariance matrix.</p></td>
    </tr>
    <tr>
      <th>mean</th>
      <td><p>Numeric vector of equal length as dimensions in <code>.gate</code>.</p></td>
    </tr>
    <tr>
      <th>distance</th>
      <td><p>Numeric scalar giving the Mahalanobis distance defining the
size of the ellipse. This mostly exists for compliance reasons to the
gatingML standard as <code>mean</code> and <code>gate</code> should already uniquely
define the ellipse. Essentially, <code>distance</code> is merely a factor that
gets applied to the values in the covariance matrix.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>You can also directly describe the covariance matrix through
named arguments, as described below.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>Returns a <code>ellipsoidGate</code> object for use in filtering
<code><a href='flowFrame-class.html'>flowFrame</a></code>s or other flow cytometry objects.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>A convenience method to facilitate the construction of a ellipsoid
<code><a href='filter-methods.html'>filter</a></code> objects. Ellipsoid gates in n dimensions (n &gt;= 2) are
specified by a a covarinace matrix and a vector of mean values giving the
center of the ellipse.</p>
<p>This function is designed to be useful in both direct and programmatic
usage. In the first case, simply describe the covariance matrix through
named arguments. To use this function programmatically, you may pass a
covarince matrix and a mean vector directly, in which case the parameter
names are the colnames of the matrix.</p>
    <h2 class="hasAnchor" id="slots"><a class="anchor" href="#slots"></a>Slots</h2>

    

<dl'>
<dt><code>mean</code></dt><dd><p>Objects of class <code>"numeric"</code>. Vector giving
the location of the center of the ellipse in n dimensions.</p></dd>

<dt><code>cov</code></dt><dd><p>Objects of class <code>"matrix"</code>. The covariance
matrix defining the shape of the ellipse.</p></dd>

<dt><code>distance</code></dt><dd><p>Objects of class <code>"numeric"</code>. The
Mahalanobis distance defining the size of the ellipse.</p></dd>

<dt><code>parameters</code></dt><dd><p>Object of class <code>"character"</code>,
describing the parameter used to filter the <code>flowFrame</code>.</p></dd>

<dt><code>filterId</code></dt><dd><p>Object of class <code>"character"</code>,
referencing the filter.</p></dd>

</dl>
    <h2 class="hasAnchor" id="note"><a class="anchor" href="#note"></a>Note</h2>

    <p>See the documentation in the <code><a href='https://rdrr.io/pkg/flowViz/man/flowViz-package.html'>flowViz</a></code>
package for plotting of <code>ellipsoidGates</code>.</p>
    <h2 class="hasAnchor" id="extends"><a class="anchor" href="#extends"></a>Extends</h2>

    

<p>Class <code>"<a href='parameterFilter-class.html'>parameterFilter</a>"</code>, directly.</p>
<p>Class <code>"<a href='concreteFilter-class.html'>concreteFilter</a>"</code>, by class
<code>parameterFilter</code>, distance 2.</p>
<p>Class <code>"<a href='filter-class.html'>filter</a>"</code>, by class <code>parameterFilter</code>,
distance 3.</p>
    <h2 class="hasAnchor" id="objects-from-the-class"><a class="anchor" href="#objects-from-the-class"></a>Objects from the Class</h2>

    

<p>Objects can be created by calls of the form <code>new("ellipsoidGate",
...)</code> or by using the constructor <code>ellipsoidGate</code>.  Using the
constructor is the recommended way.</p>
    <h2 class="hasAnchor" id="methods"><a class="anchor" href="#methods"></a>Methods</h2>

    

<dl'>
    <dt>%in%</dt><dd><p><code>signature(x = "flowFrame", table =
                                    "ellipsoidGate")</code>: The workhorse used to evaluate the filter on
      data. This is usually not called directly by the user, but
      internally by calls to the <code><a href='filter-methods.html'>filter</a></code> methods.</p></dd>

    <dt>show</dt><dd><p><code>signature(object = "ellipsoidGate")</code>: Print
     information about the filter.</p></dd>

</dl>

    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='flowFrame-class.html'>flowFrame</a></code>, <code><a href='polygonGate-class.html'>polygonGate</a></code>,
<code><a href='rectangleGate-class.html'>rectangleGate</a></code>, <code><a href='polytopeGate-class.html'>polytopeGate</a></code>,
<code><a href='filter-methods.html'>filter</a></code> for evaluation of <code>rectangleGates</code> and
<code><a href='split-methods.html'>split</a></code> and <code><a href='Subset-methods.html'>Subset</a></code>for splitting and subsetting of
flow cytometry data sets based on that.</p>
<p>Other Gate classes: 
<code><a href='polygonGate-class.html'>polygonGate-class</a></code>,
<code><a href='polytopeGate-class.html'>polytopeGate-class</a></code>,
<code><a href='quadGate-class.html'>quadGate-class</a></code>,
<code><a href='rectangleGate-class.html'>rectangleGate-class</a></code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='co'>## Loading example data</span>
<span class='no'>dat</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='read.FCS.html'>read.FCS</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/system.file.html'>system.file</a></span>(<span class='st'>"extdata"</span>,<span class='st'>"0877408774.B08"</span>,
<span class='kw'>package</span><span class='kw'>=</span><span class='st'>"flowCore"</span>))

<span class='co'>## Defining the gate</span>
<span class='no'>cov</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>6879</span>, <span class='fl'>3612</span>, <span class='fl'>3612</span>, <span class='fl'>5215</span>), <span class='kw'>ncol</span><span class='kw'>=</span><span class='fl'>2</span>,
<span class='kw'>dimnames</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"FSC-H"</span>, <span class='st'>"SSC-H"</span>), <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"FSC-H"</span>, <span class='st'>"SSC-H"</span>)))
<span class='no'>mean</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"FSC-H"</span><span class='kw'>=</span><span class='fl'>430</span>, <span class='st'>"SSC-H"</span><span class='kw'>=</span><span class='fl'>175</span>)
<span class='no'>eg</span> <span class='kw'>&lt;-</span> <span class='fu'>ellipsoidGate</span>(<span class='kw'>filterId</span><span class='kw'>=</span> <span class='st'>"myEllipsoidGate"</span>, <span class='kw'>.gate</span><span class='kw'>=</span><span class='no'>cov</span>, <span class='kw'>mean</span><span class='kw'>=</span><span class='no'>mean</span>)

<span class='co'>## Filtering using ellipsoidGates</span>
<span class='no'>fres</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='filter-methods.html'>filter</a></span>(<span class='no'>dat</span>, <span class='no'>eg</span>)
<span class='no'>fres</span></div><div class='output co'>#&gt; A filterResult produced by the filter named 'myEllipsoidGate'</div><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span>(<span class='no'>fres</span>)</div><div class='output co'>#&gt; myEllipsoidGate+: 4209 of 10000 events (42.09%)</div><div class='input'>
<span class='co'>## The result of ellipsoid filtering is a logical subset</span>
<span class='fu'><a href='Subset-methods.html'>Subset</a></span>(<span class='no'>dat</span>, <span class='no'>fres</span>)</div><div class='output co'>#&gt; flowFrame object '0877408774.B08'
#&gt; with 4209 cells and 8 observables:
#&gt;      name              desc range minRange maxRange
#&gt; $P1 FSC-H             FSC-H  1024 0.000000     1023
#&gt; $P2 SSC-H             SSC-H  1024 0.000000     1023
#&gt; $P3 FL1-H              &lt;NA&gt;  1024 1.009044    10000
#&gt; $P4 FL2-H              &lt;NA&gt;  1024 1.009044    10000
#&gt; $P5 FL3-H              &lt;NA&gt;  1024 1.009044    10000
#&gt; $P6 FL1-A              &lt;NA&gt;  1024 0.000000     1023
#&gt; $P7 FL4-H              &lt;NA&gt;  1024 1.009044    10000
#&gt; $P8  Time Time (51.20 sec.)  1024 0.000000     1023
#&gt; 164 keywords are stored in the 'description' slot</div><div class='input'>
<span class='co'>## We can also split, in which case we get those events in and those</span>
<span class='co'>## not in the gate as separate populations</span>
<span class='fu'><a href='split-methods.html'>split</a></span>(<span class='no'>dat</span>, <span class='no'>fres</span>)</div><div class='output co'>#&gt; $`myEllipsoidGate+`
#&gt; flowFrame object '0877408774.B08 (myEllipsoidGate+)'
#&gt; with 4209 cells and 8 observables:
#&gt;      name              desc range minRange maxRange
#&gt; $P1 FSC-H             FSC-H  1024 0.000000     1023
#&gt; $P2 SSC-H             SSC-H  1024 0.000000     1023
#&gt; $P3 FL1-H              &lt;NA&gt;  1024 1.009044    10000
#&gt; $P4 FL2-H              &lt;NA&gt;  1024 1.009044    10000
#&gt; $P5 FL3-H              &lt;NA&gt;  1024 1.009044    10000
#&gt; $P6 FL1-A              &lt;NA&gt;  1024 0.000000     1023
#&gt; $P7 FL4-H              &lt;NA&gt;  1024 1.009044    10000
#&gt; $P8  Time Time (51.20 sec.)  1024 0.000000     1023
#&gt; 164 keywords are stored in the 'description' slot
#&gt; 
#&gt; $`myEllipsoidGate-`
#&gt; flowFrame object '0877408774.B08 (myEllipsoidGate-)'
#&gt; with 5791 cells and 8 observables:
#&gt;      name              desc range minRange maxRange
#&gt; $P1 FSC-H             FSC-H  1024 0.000000     1023
#&gt; $P2 SSC-H             SSC-H  1024 0.000000     1023
#&gt; $P3 FL1-H              &lt;NA&gt;  1024 1.009044    10000
#&gt; $P4 FL2-H              &lt;NA&gt;  1024 1.009044    10000
#&gt; $P5 FL3-H              &lt;NA&gt;  1024 1.009044    10000
#&gt; $P6 FL1-A              &lt;NA&gt;  1024 0.000000     1023
#&gt; $P7 FL4-H              &lt;NA&gt;  1024 1.009044    10000
#&gt; $P8  Time Time (51.20 sec.)  1024 0.000000     1023
#&gt; 164 keywords are stored in the 'description' slot
#&gt; </div><div class='input'>
<span class='co'>##ellipsoidGate can be converted to polygonGate by interpolation</span>
<span class='no'>pg</span> <span class='kw'>&lt;-</span> <span class='fu'>as</span>(<span class='no'>eg</span>, <span class='st'>"polygonGate"</span>)
<span class='no'>pg</span></div><div class='output co'>#&gt; Polygonal gate 'myEllipsoidGate' with 50 vertices in dimensions FSC-H and SSC-H</div><div class='input'>


</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by B Ellis, Perry Haaland, Florian Hahne, Nolwenn Le Meur, Nishant Gopalakrishnan, Josef Spidlen, Mike Jiang, Greg Finak.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


