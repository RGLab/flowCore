useDynLib("flowCore",biexponential_transform, inPolygon)

import("methods")
importFrom("utils", "getFromNamespace", "assignInNamespace", "head", "tail")
importFrom("MASS", "cov.rob")
importFrom("geneplotter", "smoothScatter","densCols")

#importFrom("graphics", "plot") this was breaking method dispatch...


importFrom("Biobase", "exprs", "exprs<-", "description<-",
           "phenoData","phenoData<-","multiassign", "sampleNames",
           "sampleNames<-", "featureNames","featureNames<-", "varLabels",
           "varLabels<-")

importClassesFrom("Biobase", "eSet")

exportClasses("flowFrame",
              "flowSet",
              "filterSet",
              "filter",
              "concreteFilter",
              "parameterFilter",
              "filterReference",
              "rectangleGate",
              "polygonGate",
              "polytopeGate",
              "ellipsoidGate",
              "sampleFilter",
              "filterResult",
              "randomFilterResult",
              "logicalFilterResult",
              "multipleFilterResult",
              "manyFilterResult",
              "setOperationFilter",
              "subsetFilter",
              "intersectFilter",
              "complementFilter",
              "unionFilter",
              "norm2Filter",
              "kmeansFilter",
              "expressionFilter",
              "transform",
              "transformMap",
              "transformList",
              "transformFilter",
              "curv2Filter",
              "curv1Filter",
              "quadGate")

exportMethods("initialize",
              "description",
              "description<-",
              "phenoData",
              "phenoData<-",
              "featureNames",
              "names",
              "colnames",
              "colnames<-",
              "keyword",
              "keyword<-",
              "%in%","%subset%",
              "%on%","summary",
              "identifier",
              "identifier<-",
              "exprs",
              "exprs<-",
              "parameters",
              "parameters<-",
              "show",
              "nrow",
              "ncol",
              "transform",
              "split",
              "Subset",
              "filter",
              "filterDetails",
              "filterReference",
              "filterDetails<-",
              "plot",
              "coerce",
              "coerce<-",
              "rbind2",
              "spillover",
              "compensate",
              "fsApply",
              "sampleNames",
              "each_row",
              "each_col",
              "varLabels",
              "varLabels<-",
              "sort",
              "sampleNames<-",
              "pData",
              "range",
              "head",
              "tail")

S3method("$", "flowFrame")

export("%in%") #We define a generic. Is this necessary? I'm thinking not...

export("read.FCS",
       "read.flowSet",
       "read.FCSheader",
       "filterSet",
       "filterReference",
       "manyFilterResult",
       "flowFrame",
       "flowSet",
       "linearTransform",
       "quadraticTransform",
       "lnTransform",
       "logTransform",
       "scaleTransform",
       "arcsinhTransform",
       "splitScaleTransform",
       "biexponentialTransform",
       "logicleTransform",
       "truncateTransform",
       "rectangleGate",
       "polygonGate",
       "polytopeGate",
       "ellipsoidGate",
       "sampleFilter",
       "expressionFilter",
       "norm2Filter",
       "kmeansFilter",
       "print.filterSummary",
       "%&%",
       "as.data.frame.manyFilterResult",
       "curv2Filter",
       "curv1Filter")
       
